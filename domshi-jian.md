# DOM事件

**Javascript与HTML之间的交互是通过事件来实现的。事件，就是文档或浏览器窗口中发 生的一些特定的交互瞬间。**

比如:

> **点击一个DOM元素**
>
> **键盘按下一个键  
> 输入框输入内容  
> 页面加载完成**

### 事件流

#### 事件流描述的是从页面中接收事件的顺序。

**IE的事件流是事件冒泡流\(event bubbling\)，即事件开始时由最具体的元素\(文档中嵌套 层次最深的那个节点\)接收，然后逐级向上传播到较为不具体的节点\(文档\)。**

**Netscape的事件流是事件捕获流\(event capturing\)。事件捕获的思想是不太具体的节点应该 更早接收到事件，而最具体的节点应该最后接收到事件。**  
  
DOM2级事件规定的事件流包括三个阶段:**事件捕获阶段、处于目标阶段和事件冒泡阶段。  
**![](/assets/屏幕快照 2018-04-19 上午8.56.10.png)

## 事件注册与触发

#### 事件注册![](/assets/屏幕快照 2018-04-19 上午8.57.04.png)

#### 取消事件注册![](/assets/屏幕快照 2018-04-19 上午8.57.38.png)

#### 事件触发

![](/assets/屏幕快照 2018-04-19 上午9.02.35.png)

#### 浏览器兼容型\(IE6/7/8\)

#####        事件注册与取消:attachEvent\(\) / detachEvent\(\) 

这两个方法接受相同的2个参数:事件处理程序名称、事件处理程序函数

#####        事件触发:fireEvent\(e\)

#####        no capture: IE8及更早版本只支持事件冒泡，不支持事件捕获。

### 浏览器兼容型![](/assets/屏幕快照 2018-04-19 上午9.04.27.png)![](/assets/屏幕快照 2018-04-19 上午9.04.53.png)

## 事件对象

在触发DOM上的某个事件时，会产生一个事件对象event，这个对象中包含着所有与事件有关的信息。![](/assets/屏幕快照 2018-04-19 上午9.05.38.png)![](/assets/屏幕快照 2018-04-19 上午9.06.10.png)

### 事件对象属性:

![](/assets/屏幕快照 2018-04-19 上午9.06.46.png)

### 事件对象方法:

### ![](/assets/屏幕快照 2018-04-19 上午9.07.15.png)

### 阻止事件传播

![](/assets/屏幕快照 2018-04-19 上午9.07.49.png)

### 默认行为

Event.preventDefault\(\) \(W3C\) 

Event.returnValue=false \(IE\)

## 事件分类![](/assets/屏幕快照 2018-04-19 上午9.08.33.png)

## Event

![](/assets/屏幕快照 2018-04-19 上午9.09.12.png)

## Window对象

Window对象上的Event事件包括:

![](/assets/屏幕快照 2018-04-19 上午9.09.53.png)  
![](/assets/屏幕快照 2018-04-19 上午9.10.06.png)

## Image对象

Image对象上的Event事件包括

![](/assets/屏幕快照 2018-04-19 上午9.11.36.png)  
![](/assets/屏幕快照 2018-04-19 上午9.11.52.png)

## UIEvent![](/assets/屏幕快照 2018-04-19 上午9.12.37.png)

## MouseEvent![](/assets/屏幕快照 2018-04-19 上午9.13.06.png) 

### MouseEvent对象属性

![](/assets/屏幕快照 2018-04-19 上午9.14.37.png)

![](/assets/屏幕快照 2018-04-19 上午9.14.57.png)

## MouseEvent顺序

##### 从元素A上方移过:

**-mousemove -&gt; mouseover\(A\) -&gt; mouseenter\(A\) -&gt;mousemove\(A\) -&gt; mouseout\(A\) -&gt; mouseleave\(A\)**  
点击元素  
-mousedown -&gt; \[mousemove\] -&gt; mouseup -&gt; click  
例子-拖拽div  
HTML部分:

```
<div id=”div1”></div>
```

CSS部分:

![](/assets/屏幕快照 2018-04-19 上午9.20.59.png)

JS部分代码:![](/assets/屏幕快照 2018-04-19 上午9.21.27.png)

## WheelEvent-滚轮事件![](/assets/屏幕快照 2018-04-19 上午9.22.33.png)

WheelEvent对象属性

![](/assets/屏幕快照 2018-04-19 上午9.23.31.png)

## FocusEvent-焦点事件![](/assets/屏幕快照 2018-04-19 上午9.24.09.png)

### FocusEvent属性

relatedTarget

## InputEvent-输入事件![](/assets/屏幕快照 2018-04-19 上午9.24.55.png)

#### onpropertychange\(IE\)

## KeyboardEvent-键盘事件![](/assets/屏幕快照 2018-04-19 上午9.27.54.png)

### KeyboardEvent对象属性

![](/assets/屏幕快照 2018-04-19 上午9.28.22.png)

## 事件代理

将事件注册到元素的父节点上。

事件代理也被称为“事件委托”。事件委托利用了事件冒泡，只指定一个事件处理程序，就 可以管理某一类型的所有事件。  
































